---
import { Image } from "astro:assets";
import Whitespace from "../Whitespace/Whitespace.astro";
import DiegoImage from "../../assets/p2.jpg";
---

<div class="hero-image">
  <svg xmlns="http://www.w3.org/2000/svg">
    <filter id="wavy" x="0" y="0" width="100%" height="100%">
      <feTurbulence
        id="turbulence"
        baseFrequency="0.02 0.02"
        result="NOISE"
        numOctaves="1"></feTurbulence>
      <feDisplacementMap in="SourceGraphic" in2="NOISE" scale="20"
      ></feDisplacementMap>
    </filter>
  </svg>
  <div class="hero-image-container">
    <Image src={DiegoImage} alt="Diego Cano" class="responsive-image" />
  </div>
</div>

<style lang="sass">
  svg
    position: absolute
    width: 100%
    height: auto

  .hero-image
    width: 100%
    position: relative
    overflow-x: hiddden

  .responsive-image
    width: 100%
    object-fit: cover
    filter: url("#wavy")
</style>

<script>
  import { animation } from "./animation";
  // Asegura que el DOM estÃ© listo
  document.addEventListener("DOMContentLoaded", () => {
    animation();
  });
</script>
