---
import { Image } from "astro:assets";
import Whitespace from "../Whitespace/Whitespace.astro";
import DiegoImage from "../../assets/p2.jpg";
---

<div class="hero-image">
  <svg xmlns="http://www.w3.org/2000/svg">
    <filter id="wavy" x="0" y="0" width="100%" height="100%">
      <feTurbulence
        id="turbulence"
        baseFrequency="0.02 0.02"
        result="NOISE"
        numOctaves="1"></feTurbulence>
      <feDisplacementMap in="SourceGraphic" in2="NOISE" scale="20"
      ></feDisplacementMap>
    </filter>
  </svg>
  <div class="hero-image-container" data-scroll data-scroll-speed="2">
    <Image src={DiegoImage} alt="Diego Cano" class="responsive-image" />
  </div>
</div>
<Whitespace />

<style>
  svg {
    position: absolute;
  }

  .hero-image {
    width: 100%;
    margin-top: -300px;
  }

  .hero-image::after {
    content: "";
    display: table;
    clear: both;
  }

  .hero-image .hero-image-container {
    width: 40%;
    float: right;
  }

  .responsive-image {
    width: 100%;
    object-fit: cover;
    filter: url("#wavy");
  }

  @media (max-width: 900px) {
    .hero-image {
      margin-top: 40px;
    }
    .hero-image .hero-image-container {
      width: 100%;
    }
  }
</style>

<script>
  import { animation } from "./animation";
  // Asegura que el DOM estÃ© listo
  document.addEventListener("DOMContentLoaded", () => {
    animation();
  });
</script>
